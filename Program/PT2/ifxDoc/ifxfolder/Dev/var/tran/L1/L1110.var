----- BASIC LABEL Variables ----------
<sub type="SYS">
</sub>

<sub type="SYS" name="label">


</sub>

<sub type="DC" name="BFHEAD">
<include src="COM.icf::BFHEAD.dec"/>
!起始交易記號  0:起始交易,1:非起始交易
#ORGFG=_,_,S
E(0,0)

</sub>

!---------- 交易畫面及個別交易變數宣告 ----------
<sub type="DC" name="p1" layout="cols=3;screen.width=[200,300,50,500];printer.width=[20,20,20,20];order=1">
[
["[L1110]                                 顧客基本資料維護-開放查詢變更"],
[#<->#,"#FdId+身份證號／統一編號",#CustId],
[#<->#,"#FdCustName+戶名",#CustName],
["@","@修改前"],["@","@修改後"],
["#FdAllowInquire+開放查詢",#AllowInquire,#AllowInquireX],["@",#AllowInquireAft,#AllowInquireAftX],
]
!---------- AP TEXT AREA Variables ----------
<include src="HELPRIM.icf::HELPRIM.rtn"/>
<include src="ROM.icf::L1R01.dec"/>

#AGAIN=X,1,S
E(0,1)
ASGN(AGAIN$)
         
#AllowInquireHelp=X,1024,S

#CDDEF0001=x,20,S
T(3,CdCode.AllowInquire)

#HelpRim=X,1,S
RESET_RIM(#HelpRim,XXR99)
S(XXR99,01,#CDDEF0001)
R(1,XXR99)
CALL(#HelpProc)
T(2,@AllowInquireHelp,#HelpDesc1)

#FdId=X,2,L
T(2,*)
#FdCustName=X,2,L

#FdAllowInquire=X,2,L
T(2,*)
K(MODIFYBUTTON,修改)

#CHAIN=A,1,S
T(4,CHAIN$) 

#NTXBUF=x,10,S
C(3,#CHAIN,1,T(4,NTXBUF$),S)
T(1,@CustId,#NTXBUF,1,10)

#Space=X,1,S
C(3,#CHAIN,1,T(2,@FdId, )T(F,@CustId,0),$)
! 修改前統一編號
#CustId=X,10,I
C(3,#CHAIN,1,s,$)
@V(7)
A(ID_UNINO,1,#CustId)

#CustNo=A,7,S

#MRKEY=_,_,S
T(2,#CustId)

#RimCustNo=A,7,S
#RimCustId=X,10,S
#RimFunCd=X,1,S
T(3,5)

#RimL1R01=X,1,S
T(2,@RimCustId,#CustId)
RESET_RIM(#RimL1R01,L1R01)
S(L1R01,1,#RimFunCd,#RimCustId,#RimCustNo)
R(1,L1R01)
T(2,@CustNo,#L1r01CustNo)
T(2,@CustName,#L1r01CustName)
T(2,@AllowInquire,#L1r01AllowInquire)
T(H,@AllowInquireX,#AllowInquire,#AllowInquireHelp)
T(H,@AllowInquireAft,#AllowInquireHelp)
T(H,@AllowInquireAftX,#AllowInquireAft,#AllowInquireHelp)

! 戶名
#CustName=x,2.50,L

! 修改前開放查詢
#AllowInquire=X,1,L

#AllowInquireX=X,10,L

! 修改前開放查詢
#AllowInquireAft=X,1,I
HELP(#AllowInquireHelp)
@
V(4,#AllowInquire)
V(H,#AllowInquireHelp)

#AllowInquireAftX=X,10,L
T(H,#AllowInquireAft,#AllowInquireHelp)

#RPTFG=A,1,S

</sub>

!---------- 輸出共用變數宣告區 ----------
<sub type="RTN" name="AFXMT">
<include src="PRT.icf::PRTHEAD.rtn"/>
</sub>


!---------- TXFORM = L1110 ----------
<sub type="FORM" name="L1110">

!#SCRPRT=_,_,S
!C(5,#TXFORM,L1110,$,S)

#SCRTIL=_,_,S
T(3,[L1110] 顧客基本資料維護-身份證號／統一編號變更)

!------ TOM(HEAD)   Variables (FOR OUTPUT SCREEN) ------
!------ TOM(OCCURS) Variables (FOR OUTPUT SCREEN) ------
#LOOP=X,1,S
T(3,1)ASGN(LOOP$)

</sub>


!------ 上行電文 ------
<sub type="TIM">
#CustNo
#CustId
#AllowInquire
#AllowInquireAft
</sub>


!------ 下行電文TOM ------
<sub type="TOM">
TXFORM=L1110
^
<include src="HELPRIM.icf::HELPRIM.tom"/>
<include src="COM.icf::TRCTL.tom"/>
<include src="ROM.icf::L1R01.tom"/>
</sub>

!---------- 單據輸出組合 ----------
<sub type="SELECT">
<include src="PRT.icf::UPD01.sel"/>
</sub>
