----- BASIC LABEL Variables ----------
<sub type="SYS">
</sub>

<sub type="SYS" name="label">

#TXCD
T(3,L6204)

</sub>

<sub type="DC" name="BFHEAD">
<include src="COM.icf::BFHEAD2.dec"/>
!起始交易記號  0:起始交易,1:非起始交易
#ORGFG=_,_,S
E(0,0)
</sub>

!---------- 交易畫面及個別交易變數宣告 ----------
<sub type="DC" name="p1" layout="cols=1;screen.width=[200,800];printer.width=[20,20];">
[
["[L6204]                                 錯誤代碼維護"],
["#FdFunCd+功能",#FunCodeX],
["#FdErrCode+錯誤代碼",#ErrCode],
["#FdErrContent+錯誤說明",#ErrContent],
]
!---------- AP Button AREA ----------
![Buttom資料查詢]
!#BUF1=X,42,S

! 必輸欄位

! 永遠為必輸欄位
#FdFunCd=X,2,L
#FdErrCode=X,2,L
#FdErrContent=X,2,L



!---------- AP TEXT AREA Variables ----------
<include src="HELPRIM.icf::HELPRIM.rtn"/>

!FunCd2(1:新增;2:修改;4:刪除)
#CODE0001=x,20,S                  
T(3,CdCode.FuncCode2)                  
#FunCd2Help=x,50,S     



#HelpRim=X,1,S
RESET_RIM(#HelpRim,XXR99)
S(XXR99,01,#CODE0001)
R(1,XXR99)
CALL(#HelpProc)
T(2,@FunCd2Help,#HelpDesc1)

!RIM參數
!#RimFunCode=A,1,S
!#RimErrCode=X,8,S

#CHAIN=A,1,S
T(4,CHAIN$)
IF(#CHAIN!=1,V(P,此為連動交易，請從交易:L6024進入),$)

#NTXBUF=X,9,S
C(3,#CHAIN,1,T(4,NTXBUF$),S)
T(1,@FunCode,#NTXBUF,1,1)
T(1,@ErrCode,#NTXBUF,2,8)

! 功能 必須輸入(1: 新增;2: 修改;4: 刪除)
#FunCode=A,1,S
C(3,#CHAIN,1,s,$)
HELP(#FunCd2Help)
@V(H,#FunCd2Help)

#FunCodeX=X,12,L
T(H,#FunCode,#FunCd2Help)
C(2,#FunCode,$,K(MODIFYBUTTON,新增),K(MODIFYBUTTON,修改),$,K(MODIFYBUTTON,刪除))

#CheckFunCode=X,1,S
C(3,#FunCode,2,T(F,@ErrCode,0),$)
C(3,#FunCode,4,T(F,@ErrCode,0)T(F,@ErrContent,0),$)

#WK=X,1,S
C(3,#FunCode,1,T(2,#FdErrCode,*)T(2,#FdErrContent,*),$)
C(3,#FunCode,2,T(2,#FdErrContent,*),$)


#FUNCIND=_,_,S
E(0,#FunCode)
<include src="COM.icf::CheckAuth.rtn"/>

#AGAIN=X,1,S
IF(#FunCode==4 || #FunCode==2,$,S)
E(0,1)ASGN(AGAIN$)

#RimL6r481=X,1,S
E(0,@RimFunCode,#FunCode)
T(2,@RimErrCode,#ErrCode)
IF(#FunCode==4 || #FunCode==2,$,S)
S(L6R48,1,#RimFunCode,#RimErrCode)
R(1,L6R48)
T(2,@ErrContent,#L6R48ErrContent)


#ErrCode=X,8,I
C(3,#FunCode,1,$,s)
@V(NL)V(7)

#RimL6r482=X,1,S
E(0,@RimFunCode,#FunCode)
T(2,@RimErrCode,#ErrCode)
C(3,#FunCode,1,$,S)
S(L6R48,1,#RimFunCode,#RimErrCode)
R(1,L6R48)

#ErrContent=x,125,I
C(3,#FunCode,4,s,$)
@V(7)



#RPTFG=A,1,S
E(0,0)

<include src="ROM.icf::L6R48Rim.dec"/>
<include src="ROM.icf::L6R48.dec"/>
</sub>

!---------- 輸出共用變數宣告區 ----------
<sub type="RTN" name="AFXMT">
<include src="PRT.icf::PRTHEAD.rtn"/>
</sub>

!---------- TXFORM = L6204 ----------
<sub type="FORM" name="L6204">

#SCRPRT=_,_,S
C(5,#TXFORM,L6204,$,S)

#SCRTIL=_,_,S
T(3,[L6204] 錯誤代碼維護)


</sub>


!------ 上行電文 ------
<sub type="TIM">
#FunCode#ErrCode#ErrContent
#END
</sub>


!------ 下行電文TOM ------
<sub type="TOM">
TXFORM=L6204

^

<include src="COM.icf::TRCTL.tom"/>
<include src="HELPRIM.icf::HELPRIM.tom"/>
<include src="ROM.icf::L6R48.tom"/>
</sub>

!---------- 單據輸出組合 ----------
<sub type="SELECT">
<include src="PRT.icf::UPD01.sel"/>
</sub>
