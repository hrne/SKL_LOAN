----- BASIC LABEL Variables ----------
<sub type="SYS">
</sub>

<sub type="SYS" name="label">


![資料表頭(HEADER)長度]
#INQHD=n,3,S
E(0,0)ASGN(INQHD$)

![每筆資料明細(OCCURS)長度] 
#INQLEN=n,3,S
E(0,235)ASGN(INQLEN$)

![多筆查詢之一個畫面有N筆資料]
#INQREC=n,2,S
E(0,20)ASGN(INQREC$)

![畫面顯示的明細間的高度]
#LOOPH=n,3,S
E(0,1)ASGN(LOOPHEIGHT$)

![每張印錄單列印的筆數]
#INQPRT=n,2,S
E(0,40)ASGN(INQPRT$)

</sub>

<sub type="DC" name="BFHEAD">

#button=x,1,S
K(MODIFYBUTTON,查詢)

</sub>

!---------- 交易畫面及個別交易變數宣告 ----------
<sub type="DC" name="p1" layout="cols=1;screen.width=[150,850];printer.width=[20,20];">
[
["[LC015]                                 套印預設印表機設定查詢"],
["#FdStanIp+工作站IP",#StanIp],
!["#FdFileCode+報表代碼",#FileCode],
]
!---------- AP Button AREA ----------


!---------- AP TEXT AREA Variables ----------
#FdStanIp=X,2,L

#FdFileCode=X,2,L

#CHAIN=A,1,S
T(4,CHAIN$)

#NTXBUF=X,3,S

#StanIp=X,15,L
T(4,IP$)

#FileCode=x,40,S

#RPTFG=A,1,S
E(0,0)

#TXMT=A,1,S
C(3,#CHAIN,1,XMT(),$)

</sub>

!---------- 輸出共用變數宣告區 ----------
<sub type="RTN" name="AFXMT">
<include src="PRT.icf::PRTHEAD.rtn"/>
</sub>

!---------- TXFORM = LC015 ----------
<sub type="FORM" name="LC015">

!#SCRPRT=_,_,S
!C(5,#TXFORM,LC015,$,S)

#SCRTIL=_,_,S
T(3,[LC015] 訂正資料查詢)

!------ TOM(HEAD)   Variables (FOR OUTPUT SCREEN) ------
!------ TOM(OCCURS) Variables (FOR OUTPUT SCREEN) ------
#LOOP=X,1,S
T(3,1)ASGN(LOOP$)

#OFileCode=x,40,S

#OFileItem=x,80,S

#OServerIp=x,15,S

#OPrinter=x,100,S

#Buf=x,1000,S
T(2,#StanIp+#OFileCode+#OFileItem+#OServerIp+#OPrinter)

#Btn1=A,1,S
BIND(grid,{ cmd=CHAIN; ntxcd=LC115; ntxbuf=#Buf})

</sub>


!------ 上行電文 ------
<sub type="TIM">
#StanIp
#FileCode
#END
</sub>


!------ 下行電文TOM ------
<sub type="TOM">
TXFORM=LC015
#OFileCode
#OFileItem
#OServerIp
#OPrinter
^
<include src="COM.icf::TRCTL.tom"/>
</sub>

!--------- OUTPUT畫面 --------
<sub type="PART" name="L6032" layout="cols=1;screen.width=[100,900];printer.width=[20,20];">
[
["[LC015]                                 套印預設印表機設定查詢"],
["#FdStanIp+工作站IP",#StanIp],
]
</sub>

!---------- 單據輸出組合 ----------
<sub type="SELECT">

#RPTFG=0,QUERY.GRID,LC015
#any={detail:true, header:'LC015.part', caption:'', width:1000, rowNum:20, rowList:[20,40,60]}

#Btn1=修改
{width:40,search:false,formatter:'cust:bind-button:修改',canExport:false,align:'center'}

#OFileCode=報表代碼
{width:150,align:'left'}

#OFileItem=報表說明
{width:600,align:'left'}

#OServerIp=列印伺服器
{width:110,align:'left'}

#OPrinter=預設印表機
{width:400,align:'left'}

^

</sub>
