!---------- BASIC LABEL Variables ----------
<sub type="SYS">
</sub>

<sub type="SYS" name="label">
!#TXCD
!T(3,L7903)

![資料表頭(HEADER)長度]
#INQHD=n,3,S
E(0,0)ASGN(INQHD$)

![每筆資料明細(OCCURS)長度]
#INQLEN=n,3,S
E(0,142)ASGN(INQLEN$)

![多筆查詢之一個畫面有N筆資料]
#INQREC=n,2,S
E(0,20)ASGN(INQREC$)

![畫面顯示的明細間的高度]
#LOOPH=n,3,S
E(0,1)ASGN(LOOPHEIGHT$)

![每張印錄單列印的筆數]
#INQPRT=n,2,S
E(0,40)ASGN(INQPRT$)

</sub>

<sub type="DC" name="BFHEAD">
<include src="COM.icf::BFHEAD.dec"/>
!起始交易記號  0:起始交易,1:非起始交易
#ORGFG=_,_,S
E(0,0)


#INIT=X,1,S
! INVOKEJS(SHOW,p1,2,2,0)
! #button=x,100,S
! T(2,{cmd=CHAIN; ntxcd=L5101; ntxbuf=1; ntxbuf5=type})ASGN(BTN_NEW1$)
! K(MODIFYBUTTON,1,新增資料)
K(MODIFYBUTTON,查詢)

</sub>

!---------- 交易畫面及個別交易變數宣告 ----------
<sub type="DC" name="L7903" layout="cols=1;screen.width=[200,800];printer.width=[20,80];order=1">
[
["[L7903]                                 商品分類資料查詢"],
["#FdProdNo+商品代碼",#ProdNo," (輸入空白查全部)"]
]
<include src="HELPRIM.icf::HELPRIM.rtn"/>

#IfrsStepProdCodeHelp=X,50,S
T(3,N:非階梯式;A:固定階梯;B:浮動階梯; :非階梯式)

#CODEIFRSCODE=x,20,S
T(3,CdCode.Ifrs9ProdCode)
#IfrsProdCode2Help=x,300,S

#HelpRim=X,1,S
RESET_RIM(#HelpRim,XXR99)
S(XXR99,01,#CODEIFRSCODE)
R(1,XXR99)
CALL(#HelpProc)
T(2,@IfrsProdCode2Help,#HelpDesc1)

#RPTFG=A,1,S
E(0,0)

#FdProdNo=X,1,L
T(2, )

#ProdNo=X,5,I


</sub>


!---------- 輸出共用變數宣告區 ----------
<sub type="RTN" name="AFXMT">
<include src="PRT.icf::PRTHEAD.rtn"/>
</sub>

!------------ TXFORM = L7903 -----------
<sub type="FORM" name="L7903">

#SCRTIL=_,_,S
T(3,[L7903] 商品分類資料查詢)

#LOOP=X,1,S
E(0,1)ASGN(LOOP$)

! 商品代碼
#OOProdNo=X,5,L
#OOProdName=X,120,L
#OOStartDate=D,7,L
#OOEndDate=D,7,L
#OOIfrsStepProdCode=X,1,L
#OOIfrsStepProdCodeX=X,10,L
T(H,#OOIfrsStepProdCode,#IfrsStepProdCodeHelp)
#OOIfrsProdCode=X,2,L
#OOIfrsProdCodeX=X,20,L
T(H,#OOIfrsProdCode,#IfrsProdCode2Help)
! 修改的按鈕
#OOFunc2=A,1,S
E(0,2)

#OOBUF2=X,143,S
T(2,2+#OOProdNo+#OOProdName+#OOStartDate+#OOEndDate+#OOIfrsStepProdCode+#OOIfrsProdCode)

#OOBTN2=X,4,S
BIND(grid,{cmd=CHAIN;ntxcd=L7210;text=修改;ntxbuf=#OOBUF2})

#OOIfrsStepProdCodeFull=X,12,L
T(2,#OOIfrsStepProdCode+ +#OOIfrsStepProdCodeX)

#OOIfrsProdCodeFull=X,23,L
C(4,#OOIfrsProdCode,S,$)
T(2,#OOIfrsProdCode+ +#OOIfrsProdCodeX)

</sub>

!------ 上行電文 TEXT ------
<sub type="TIM">
#ProdNo
</sub>

!------ 下行電文TOM ------
<sub type="TOM">
TXFORM=L7903
#OOProdNo
#OOProdName
#OOStartDate
#OOEndDate
#OOIfrsStepProdCode
#OOIfrsProdCode
^
<include src="COM.icf::TRCTL.tom"/>
<include src="HELPRIM.icf::HELPRIM.tom"/>
</sub>

!---------- 單據輸出組合 ----------

<sub type="PART" name="L7903" layout="cols=1;screen.width=[200,800];printer.width=[20,80];order=1">
[
["[L7903]                                 商品分類資料查詢                                                                              "],
]
</sub>

<sub type="SELECT">
#RPTFG=0,QUERY.GRID,L7903
#any={detail:true, header:'L7903.part', caption:'', width:1000, rowNum:20, rowList:[20,40,60]}

#OOBTN2=
{width:50,search:false,formatter:'cust:bind-button:#OOBTN2',align:'center',canExport:false}

#OOProdNo=商品代碼
{width:100}

#OOProdName=商品名稱
{width:200}

#OOStartDate=商品生效日期
{width:120,align:'center'}

#OOEndDate=商品截止日期
{width:120,align:'center'}

#OOIfrsStepProdCodeFull=IFRS階梯商品別
{width:180,align:'center'}

!#OOIfrsProdCode=IFRS產品別
#OOIfrsProdCodeFull=IFRS產品別
{width:180,align:'center'}
^
</sub>