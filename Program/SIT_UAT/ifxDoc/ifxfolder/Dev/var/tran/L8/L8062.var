----- BASIC LABEL Variables ----------
<sub type="SYS">
</sub>

<sub type="SYS" name="label">

!#TXCD
!T(3,L8062)

![資料表頭(HEADER)長度]
#INQHD=n,3,S
E(0,0)ASGN(INQHD$)

![每筆資料明細(OCCURS)長度-Occ回來後去切的長度]
#INQLEN=n,3,S
E(0,40)ASGN(INQLEN$)

![多筆查詢之一個畫面有N筆資料]
#INQREC=n,2,S
E(0,20)ASGN(INQREC$)

![畫面顯示的明細間的高度]
#LOOPH=n,3,S
E(0,1)ASGN(LOOPHEIGHT$)

![每張印錄單列印的筆數]
#INQPRT=n,2,S
E(0,40)ASGN(INQPRT$)

</sub>

<sub type="DC" name="BFHEAD">
<include src="COM.icf::BFHEAD.dec"/>
!起始交易記號  0:起始交易,1:非起始交易
#ORGFG=_,_,S
E(0,0)
K(NOBUTTON,CLOSEY)

</sub>

!---------- 交易畫面及個別交易變數宣告 ----------
<sub type="DC" name="p1" layout="cols=1;screen.width=[200,900];printer.width=[20,20];">
[
["[L8062]                                 消債條列JCIC報送資料歷程查詢(570)"],
["#FdCustId+身分證字號",#CustId,#CustIdX],
["#FdRcDate+申請日期",#RcDate],
["#FdSubmitKey+報送單位代號",#SubmitKey,#SubmitKeyX],
]

#FdCustId=X,2,L
#FdRcDate=X,2,L
#FdSubmitKey=X,2,L
!---------- AP TEXT AREA Variables ----------
#CHAIN=A,1,S
T(4,CHAIN$)
C(3,#CHAIN,0,V(P,本交易為連動交易，請由L8030連動進入),$)

<include src="HELPRIM.icf::HELPRIM.rtn"/>
<include src="ROM.icf::L8R01.dec"/>

#CDDEF0001=x,20,S
T(3,CdCode.TranKey)
#TranKeyHelp=x,1024,S


#HelpRim=X,1,S
RESET_RIM(#HelpRim,XXR99)
S(XXR99,01,#CDDEF0001)
R(1,XXR99)
CALL(#HelpProc)
T(2,@TranKeyHelp,#HelpDesc1)

! 預設值
#Default=X,1,S
T(2,@SubmitKey,458)
#RimJcicBankCode=X,3,S
#RimL8r01=X,1,S
T(2,@RimJcicBankCode,#SubmitKey)
RESET_RIM(#RimL8r01,L8R01)
S(L8R01,1,#RimJcicBankCode)
R(1,L8R01)
T(2,@SubmitKeyX,#L8r01JcicBankName)

#NTXBUF=X,138,S
C(3,#CHAIN,1,T(4,NTXBUF$),S)
T(1,@ChainCd,#NTXBUF,1,5)
T(1,@Ukey,#NTXBUF,6,32)

#CustId=X,10,L
#CustIdX=x,100,L

#RcDate=D,7,L
#SubmitKey=X,3,L
#SubmitKeyX=X,80,L
<include src="ROM.icf::L8R55.dec"/>
#RimUkey=X,32,S
#RimChainCd=X,5,S
#RimL8r55=X,1,S
T(2,@RimUkey,#Ukey)
T(2,@RimChainCd,#ChainCd)
RESET_RIM(#RimL8r55,L8R55)
S(L8R55,1,#RimChainCd,#RimUkey)
R(1,L8R55)
T(2,@CustId,#L8r55CustId)
T(2,@SubmitKey,#L8r55SubmitKey)
E(0,@RcDate,#L8r55ApplyDate)
#ChainCd=X,5,S
#Ukey=X,32,S
#RPTFG=A,1,S

#RimCustId=X,10,S
<include src="ROM.icf::L8R57.dec"/>
T(2,@RimCustId,#CustId)
! 檢核該統編是否存在於客戶檔
#RimL8R57=X,1,S
RESET_RIM(#RimL8R57,L8R57)
S(L8R57,1,#RimCustId)
R(1,L8R57)
T(2,@CustIdX,#L8R57CustName)

#CHAINXMT=X,1,S
C(3,#CHAIN,1,E(0,@CHAIN,0)XMT(),$)
</sub>

!---------- 輸出共用變數宣告區 ----------
<sub type="RTN" name="AFXMT">
<include src="PRT.icf::PRTHEAD.rtn"/>
</sub>


!---------- TXFORM = L80620 ----------
<sub type="FORM" name="L8062">

#SCRTIL=_,_,S
T(3,[L8062] 消債條列JCIC報送資料歷程查詢)

#LOOP=X,1,S
T(3,1)ASGN(LOOP$)
! 以下固定
#OOTranKey=X,1,S
#OOTranKey_Tmp=X,10,S
T(H,#OOTranKey,#TranKeyHelp)
#OOTranKeyX=X,15,S
T(2,#OOTranKey+ - +#OOTranKey_Tmp)
! 以下變動
!570
#OOAdjudicateDate=D,7,S
C(3,#OOAdjudicateDate,0,S,$)
#OOBankCount=M,2,S
#OOBank1=X,3,S
#OOBank1X=X,50,S
#OOBank_Combine1=X,60,S
T(2,#OOBank1+ +#OOBank1X)
#OOBank2=X,3,S
#OOBank2X=X,50,S
#OOBank_Combine2=X,60,S
T(2,#OOBank2+ +#OOBank2X)
#OOBank3=X,3,S
#OOBank3X=X,50,S
#OOBank_Combine3=X,60,S
T(2,#OOBank3+ +#OOBank3X)
#OOBank4=X,3,S
#OOBank4X=X,50,S
#OOBank_Combine4=X,60,S
T(2,#OOBank4+ +#OOBank4X)
#OOBank5=X,3,S
#OOBank5X=X,50,S
#OOBank_Combine5=X,60,S
T(2,#OOBank5+ +#OOBank5X)
#OOBank6=X,3,S
#OOBank6X=X,50,S
#OOBank_Combine6=X,60,S
T(2,#OOBank6+ +#OOBank6X)
#OOBank7=X,3,S
#OOBank7X=X,50,S
#OOBank_Combine7=X,60,S
T(2,#OOBank7+ +#OOBank7X)
#OOBank8=X,3,S
#OOBank8X=X,50,S
#OOBank_Combine8=X,60,S
T(2,#OOBank8+ +#OOBank8X)
#OOBank9=X,3,S
#OOBank9X=X,50,S
#OOBank_Combine9=X,60,S
T(2,#OOBank9+ +#OOBank9X)
#OOBank10=X,3,S
#OOBank10X=X,50,S
#OOBank_Combine10=X,60,S
T(2,#OOBank10+ +#OOBank10X)
#OOBank11=X,3,S
#OOBank11X=X,50,S
#OOBank_Combine11=X,60,S
T(2,#OOBank11+ +#OOBank11X)
#OOBank12=X,3,S
#OOBank12X=X,50,S
#OOBank_Combine12=X,60,S
T(2,#OOBank12+ +#OOBank12X)
#OOBank13=X,3,S
#OOBank13X=X,50,S
#OOBank_Combine13=X,60,S
T(2,#OOBank13+ +#OOBank13X)
#OOBank14=X,3,S
#OOBank14X=X,50,S
#OOBank_Combine14=X,60,S
T(2,#OOBank14+ +#OOBank14X)
#OOBank15=X,3,S
#OOBank15X=X,50,S
#OOBank_Combine15=X,60,S
T(2,#OOBank15+ +#OOBank15X)
#OOBank16=X,3,S
#OOBank16X=X,50,S
#OOBank_Combine16=X,60,S
T(2,#OOBank16+ +#OOBank16X)
#OOBank17=X,3,S
#OOBank17X=X,50,S
#OOBank_Combine17=X,60,S
T(2,#OOBank17+ +#OOBank17X)
#OOBank18=X,3,S
#OOBank18X=X,50,S
#OOBank_Combine18=X,60,S
T(2,#OOBank18+ +#OOBank18X)
#OOBank19=X,3,S
#OOBank19X=X,50,S
#OOBank_Combine19=X,60,S
T(2,#OOBank19+ +#OOBank19X)
#OOBank20=X,3,S
#OOBank20X=X,50,S
#OOBank_Combine20=X,60,S
T(2,#OOBank20+ +#OOBank20X)
#OOBank21=X,3,S
#OOBank21X=X,50,S
#OOBank_Combine21=X,60,S
T(2,#OOBank21+ +#OOBank21X)
#OOBank22=X,3,S
#OOBank22X=X,50,S
#OOBank_Combine22=X,60,S
T(2,#OOBank22+ +#OOBank22X)
#OOBank23=X,3,S
#OOBank23X=X,50,S
#OOBank_Combine23=X,60,S
T(2,#OOBank23+ +#OOBank23X)
#OOBank24=X,3,S
#OOBank24X=X,50,S
#OOBank_Combine24=X,60,S
T(2,#OOBank24+ +#OOBank24X)
#OOBank25=X,3,S
#OOBank25X=X,50,S
#OOBank_Combine25=X,60,S
T(2,#OOBank25+ +#OOBank25X)
#OOBank26=X,3,S
#OOBank26X=X,50,S
#OOBank_Combine26=X,60,S
T(2,#OOBank26+ +#OOBank26X)
#OOBank27=X,3,S
#OOBank27X=X,50,S
#OOBank_Combine27=X,60,S
T(2,#OOBank27+ +#OOBank27X)
#OOBank28=X,3,S
#OOBank28X=X,50,S
#OOBank_Combine28=X,60,S
T(2,#OOBank28+ +#OOBank28X)
#OOBank29=X,3,S
#OOBank29X=X,50,S
#OOBank_Combine29=X,60,S
T(2,#OOBank29+ +#OOBank29X)
#OOBank30=X,3,S
#OOBank30X=X,50,S
#OOBank_Combine30=X,60,S
T(2,#OOBank30+ +#OOBank30X)
! 以下固定
#OOLastUpdate=X,30,S
#OOLastUpdateEmpNo=X,6,S
#OOLastUpdateEmpNoName=X,50,S
#OOLastUpdate_Combine=X,57,L
T(2,#OOLastUpdateEmpNo+ +#OOLastUpdateEmpNoName)
#OOOutJcicTxtDate=D,7,S
C(3,#OOOutJcicTxtDate,0,S,$)
</sub>

!------ 上行電文 ------
<sub type="TIM">
#ChainCd
#Ukey
</sub>
!------ 下行電文TOM ------
<sub type="TOM">
TXFORM=L8062
#OOTranKey
#OOAdjudicateDate
#OOBankCount
#OOBank1
#OOBank2
#OOBank3
#OOBank4
#OOBank5
#OOBank6
#OOBank7
#OOBank8
#OOBank9
#OOBank10
#OOBank11
#OOBank12
#OOBank13
#OOBank14
#OOBank15
#OOBank16
#OOBank17
#OOBank18
#OOBank19
#OOBank20
#OOBank21
#OOBank22
#OOBank23
#OOBank24
#OOBank25
#OOBank26
#OOBank27
#OOBank28
#OOBank29
#OOBank30
#OOBank1X
#OOBank2X
#OOBank3X
#OOBank4X
#OOBank5X
#OOBank6X
#OOBank7X
#OOBank8X
#OOBank9X
#OOBank10X
#OOBank11X
#OOBank12X
#OOBank13X
#OOBank14X
#OOBank15X
#OOBank16X
#OOBank17X
#OOBank18X
#OOBank19X
#OOBank20X
#OOBank21X
#OOBank22X
#OOBank23X
#OOBank24X
#OOBank25X
#OOBank26X
#OOBank27X
#OOBank28X
#OOBank29X
#OOBank30X
#OOOutJcicTxtDate
#OOLastUpdate
#OOLastUpdateEmpNo
#OOLastUpdateEmpNoName
^
<include src="HELPRIM.icf::HELPRIM.tom"/>
<include src="COM.icf::TRCTL.tom"/>
<include src="ROM.icf::L8R01.tom"/>
<include src="ROM.icf::L8R55.tom"/>
<include src="ROM.icf::L8R57.tom"/>
</sub>

!---------- 單據輸出組合 ----------
<sub type="PART" name="L8062" layout="cols=3;screen.width=[250,250,100,250];printer.width=[20,20,20,20];order=1">
[
["[L8062]                                 消債條列JCIC報送資料歷程查詢(570)                                                                            "],
]
</sub>

<sub type="SELECT">
#RPTFG=0,QUERY.GRID,L8062
#any={detail:true, header:'L8062.part', caption:'', width:1000, rowNum:20, rowList:[20,40,60]}
!L8332(570)
#OOTranKeyX=交易代碼
{width:150,align:'center'}
#OOAdjudicateDate=更生方案認可裁定日
{width:150,align:'center'}
#OOBankCount=更生債權金融機構家數
{width:150}
#OOBank_Combine1=債權金融機構代號1
{width:150,align:'left'}
#OOBank_Combine2=債權金融機構代號2
{width:150,align:'left'}
#OOBank_Combine3=債權金融機構代號3
{width:150,align:'left'}
#OOBank_Combine4=債權金融機構代號4
{width:150,align:'left'}
#OOBank_Combine5=債權金融機構代號5
{width:150,align:'left'}
#OOBank_Combine6=債權金融機構代號6
{width:150,align:'left'}
#OOBank_Combine7=債權金融機構代號7
{width:150,align:'left'}
#OOBank_Combine8=債權金融機構代號8
{width:150,align:'left'}
#OOBank_Combine9=債權金融機構代號9
{width:150,align:'left'}
#OOBank_Combine10=債權金融機構代號10
{width:155,align:'left'}
#OOBank_Combine11=債權金融機構代號11
{width:155,align:'left'}
#OOBank_Combine12=債權金融機構代號12
{width:155,align:'left'}
#OOBank_Combine13=債權金融機構代號13
{width:155,align:'left'}
#OOBank_Combine14=債權金融機構代號14
{width:155,align:'left'}
#OOBank_Combine15=債權金融機構代號15
{width:155,align:'left'}
#OOBank_Combine16=債權金融機構代號16
{width:155,align:'left'}
#OOBank_Combine17=債權金融機構代號17
{width:155,align:'left'}
#OOBank_Combine18=債權金融機構代號18
{width:155,align:'left'}
#OOBank_Combine19=債權金融機構代號19
{width:155,align:'left'}
#OOBank_Combine20=債權金融機構代號20
{width:155,align:'left'}
#OOBank_Combine21=債權金融機構代號21
{width:155,align:'left'}
#OOBank_Combine22=債權金融機構代號22
{width:155,align:'left'}
#OOBank_Combine23=債權金融機構代號23
{width:155,align:'left'}
#OOBank_Combine24=債權金融機構代號24
{width:155,align:'left'}
#OOBank_Combine25=債權金融機構代號25
{width:155,align:'left'}
#OOBank_Combine26=債權金融機構代號26
{width:155,align:'left'}
#OOBank_Combine27=債權金融機構代號27
{width:155,align:'left'}
#OOBank_Combine28=債權金融機構代號28
{width:155,align:'left'}
#OOBank_Combine29=債權金融機構代號29
{width:155,align:'left'}
#OOBank_Combine30=債權金融機構代號30
{width:155,align:'left'}
#OOOutJcicTxtDate=資料轉出日期
{width:100,align:'center'}
#OOLastUpdate=最後更新日期時間
{width:200,align:'center'}
#OOLastUpdate_Combine=最後更新人員
{width:120,align:'center'}
^

<include src="PRT.icf::INQ01.sel"/>
</sub>