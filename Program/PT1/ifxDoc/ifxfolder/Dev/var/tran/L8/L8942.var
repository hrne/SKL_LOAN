----- BASIC LABEL Variables ----------
<sub type="SYS">
</sub>

<sub type="SYS" name="label">

!#TXCD
!T(3,L8942)

![資料表頭(HEADER)長度]
#INQHD=n,3,S
E(0,0)ASGN(INQHD$)

![每筆資料明細(OCCURS)長度]
#INQLEN=n,3,S
E(0,86)ASGN(INQLEN$)

![多筆查詢之一個畫面有N筆資料]
#INQREC=n,2,S
E(0,20)ASGN(INQREC$)

![畫面顯示的明細間的高度]
#LOOPH=n,3,S
E(0,1)ASGN(LOOPHEIGHT$)

![每張印錄單列印的筆數]
#INQPRT=n,2,S
E(0,40)ASGN(INQPRT$)

</sub>

<sub type="DC" name="BFHEAD">
<include src="COM.icf::BFHEAD.dec"/>
!起始交易記號  0:起始交易,1:非起始交易
#ORGFG=_,_,S
E(0,0)


</sub>

!---------- 交易畫面及個別交易變數宣告 ----------
<sub type="DC" name="p1" layout="cols=1;screen.width=[150,850];printer.width=[20,20];">
[
["[L8942]                                 聯徵報送結果查詢                                                            "],
["#FdReportDate+報送日期",#ReportDate],
]
!---------- AP Button AREA ----------

#button=x,1,S
K(MODIFYBUTTON,查詢)

!---------- AP TEXT AREA Variables ----------

#FdReportDate=X,2,L
T(3,*)

#ReportDate=D,7,I
E(0,#SYSDATE)
@
V(7)
A(DATE,0,#ReportDate)

#RPTFG=A,1,S
E(0,0)

</sub>

!---------- 輸出共用變數宣告區 ----------
<sub type="RTN" name="AFXMT">
<include src="PRT.icf::PRTHEAD.rtn"/>
</sub>
!------ 上行電文 ------
<sub type="TIM">
#ReportDate

#END
</sub>

!---------- TXFORM = L8942 ----------
<sub type="FORM" name="L8942">

#SCRTIL=_,_,S
T(3,[L8942] 聯徵報送結果查詢 )

!------ TOM(HEAD)   Variables (FOR OUTPUT SCREEN) ------

!------ TOM(OCCURS) Variables (FOR OUTPUT SCREEN) ------

#LOOP=X,1,S
T(3,1)ASGN(LOOP$)

!申報種類
#OOSubmitkey=X,100,S

!報送總筆數
#OOReportTotal=X,100,S

!報送正確筆數
#OOCorrectCount=m,5,S

!報送錯誤筆數
#OOMistakeCount=m,5,S

!傳送帶碼
#OOCtxCd=X,20,S

!按鈕處理
#OOBUF5=X,20,S
T(2,0+#OOCtxCd)


#OOTDDONE_BTN=X,5,S
BIND(grid,{cmd=CHAIN; ntxcd=L8030;text=資料; ntxbuf=#OOBUF5})


</sub>


!------ 上行電文 ------
<sub type="TIM">
#ReportDate
#END
</sub>


!------ 下行電文TOM ------
<sub type="TOM">
TXFORM=L8942
#OOSubmitkey
#OOReportTotal
#OOCorrectCount
#OOMistakeCount
^
<include src="COM.icf::TRCTL.tom"/>
</sub>

!--------- OUTPUT畫面 --------
<sub type="PART" name="L8942" layout="cols=1;screen.width=[150,850];printer.width=[20,20];">
[
["[L8942]                                 聯徵報送結果查詢                                                                             "],
]
</sub>

!---------- 單據輸出組合 ----------
<sub type="SELECT">

#RPTFG=0,QUERY.GRID,L8942
#any={detail:true, header:'L8942.part', caption:'', width:1000, rowNum:60, rowList:[60,120,180]}

#OOSubmitkey=申報種類
{width:450,align:'left'}

#OOReportTotal=報送筆數
{width:100,align:'left'}

#OOCorrectCount=報送正確筆數
{width:100,align:'center'}

#OOMistakeCount=報送錯誤筆數
{width:100,align:'center'}

#OOTDDONE_BTN=資料
{width:80,search:false,formatter:'cust:bind-button:#TDDONE_BTN',align:'center',canExport:false}

</sub>
