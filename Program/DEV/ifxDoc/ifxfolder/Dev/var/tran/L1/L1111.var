----- BASIC LABEL Variables ----------
<sub type="SYS">
</sub>

<sub type="SYS" name="label">

!#TXCD
!T(3,L1111)

![資料表頭(HEADER)長度]
#INQHD=n,3,S
E(0,1)ASGN(INQHD$)

![每筆資料明細(OCCURS)長度]
#INQLEN=n,3,S
E(0,0)ASGN(INQLEN$)

![多筆查詢之一個畫面有N筆資料]
#INQREC=n,2,S
E(0,20)ASGN(INQREC$)

![畫面顯示的明細間的高度]
#LOOPH=n,3,S
E(0,1)ASGN(LOOPHEIGHT$)

![每張印錄單列印的筆數]
#INQPRT=n,2,S
E(0,40)ASGN(INQPRT$)

</sub>

<sub type="DC" name="BFHEAD">
<include src="COM.icf::BFHEAD.dec"/>
!起始交易記號  0:起始交易,1:非起始交易
#ORGFG=_,_,S
E(0,0)

</sub>

!---------- 交易畫面及個別交易變數宣告 ----------
<sub type="DC" name="p1" layout="cols=3;screen.width=[200,300,50,500];printer.width=[20,20,20,20];order=1">
[
["[L1111]                                 顧客基本資料維護-身份證號／統一編號變更"],
["@","@修改前"],["@","@修改後"],
["#FdAfter+身份證號／統一編號",#CustIdBefore],["@",#CustIdAfter],
[#<->#,"#FdCustName+戶名",#CustName],
[#<->#,"#FdMark+註記",#Mark,#MarkX],
]
!---------- AP TEXT AREA Variables ----------
<include src="HELPRIM.icf::HELPRIM.rtn"/>
<include src="ROM.icf::L1R18.dec"/>

#AGAIN=X,1,S
E(0,1)
ASGN(AGAIN$)

#CDDEF0001=x,20,S
T(3,CdCode.CustMark)
#CustMarkHelp=x,1024,S
#HelpRim=X,1,S
RESET_RIM(#HelpRim,XXR99)
S(XXR99,01,#CDDEF0001)
R(1,XXR99)
CALL(#HelpProc)
T(2,@CustMarkHelp,#HelpDesc1)

#FdBefore=X,2,L
T(2,*)
#FdCustName=X,2,L
#FdAfter=X,2,L
T(2,*)
#FdMark=X,2,L
T(2,*)
K(MODIFYBUTTON,修改)
#CHAIN=A,1,S
T(4,CHAIN$) 

#NTXBUF=x,10,S
C(3,#CHAIN,1,T(4,NTXBUF$),S)
T(1,@CustIdBefore,#NTXBUF,1,10)

#Space1=X,1,S
C(3,#CHAIN,1,T(F,@CustIdBefore,0),$)


! 修改前統一編號
#CustIdBefore=X,10,I
C(3,#CHAIN,1,s,$)
@V(7)
A(ID_UNINO,0,#CustIdBefore)

#IdStatBef=A,1,S
T(4,STAT$)

#RimL1R18=X,1,S
#RimCustNo=A,7,S
#RimCustId=X,10,S
#Space=X,1,S
T(2,@RimCustId,#CustIdBefore)
RESET_RIM(#RimL1R18,L1R18)
S(L1R18,1,#RimCustNo,#RimCustId)
R(1,L1R18)
T(2,@CustName,#L1R18CustName)

! 戶名
#CustName=x,2.50,L
! 修改後統一編號
#CustIdAfter=X,10,I
@
V(2,#CustIdBefore)
V(7)
A(ID_UNINO,0,#CustIdAfter)

#IdStatAft=A,1,S
T(4,STAT$)
IF(#IdStatBef==2 && #IdStatAft!=2,V(P,請輸入正確統一編號),$)
IF(#IdStatBef!=2 && #IdStatAft==2,V(P,不可變更為統一編號),$)

! 註記
#Mark=X,1,I
HELP(#CustMarkHelp)
@V(H,#CustMarkHelp)
T(H,#MarkX,#Mark,#CustMarkHelp)

#MarkX=X,50,L

#RPTFG=A,1,S

</sub>

!---------- 輸出共用變數宣告區 ----------
<sub type="RTN" name="AFXMT">
<include src="PRT.icf::PRTHEAD.rtn"/>
</sub>


!---------- TXFORM = L1111 ----------
<sub type="FORM" name="L1111">

!#SCRPRT=_,_,S
!C(5,#TXFORM,L1111,$,S)

#SCRTIL=_,_,S
T(3,[L1111] 顧客基本資料維護-身份證號／統一編號變更)

!------ TOM(HEAD)   Variables (FOR OUTPUT SCREEN) ------
!------ TOM(OCCURS) Variables (FOR OUTPUT SCREEN) ------
#LOOP=X,1,S
T(3,1)ASGN(LOOP$)

</sub>


!------ 上行電文 ------
<sub type="TIM">
#CustIdBefore
#CustIdAfter
#Mark
#MarkX
</sub>


!------ 下行電文TOM ------
<sub type="TOM">
TXFORM=L1111
^

<include src="HELPRIM.icf::HELPRIM.tom"/>
<include src="COM.icf::TRCTL.tom"/>
<include src="ROM.icf::L1R18.tom"/>
</sub>

!---------- 單據輸出組合 ----------
<sub type="SELECT">
<include src="PRT.icf::UPD01.sel"/>
</sub>
