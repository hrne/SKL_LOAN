----- BASIC LABEL Variables ----------
<sub type="SYS">
</sub>

<sub type="SYS" name="label">

#TXCD
T(3,L6301)

#RELCD=_,_,S
E(0,2)

#ACTFG=_,_,S
C(2,#FKEY,E(0,1),$)

</sub>

<sub type="DC" name="BFHEAD">
<include src="COM.icf::BFHEAD2.dec"/>
!起始交易記號  0:起始交易,1:非起始交易
#ORGFG=_,_,S
E(0,0)
</sub>

!---------- 交易畫面及個別交易變數宣告 ----------
<sub type="DC" name="p1" layout="cols=1;screen.width=[190,810];printer.width=[20,20];">
[
["[L6301]                                 指標利率種類維護"],
["#FdFuncCode+功能",#FuncCodeX],
["#FdCode+指標利率種類",#Code],
["#FdItem+指標利率種類-說明",#Item],
]
!---------- AP Button AREA ----------
![Buttom資料查詢]
! #BTN_SELECT_ALL=X,15,I,ui:button;value:查詢;enable:0;tabbable:0;title:LXXXX


! 必輸欄位
#FdItem=X,2,L
! 永遠為必輸欄位
#FdFuncCode=X,2,L
T(3, )
#FdCode=X,2,L


!隱藏INPUT,LABEL
#WKHIDE=X,1,S
!HIDE(#ItemX)


!---------- AP TEXT AREA Variables ----------
<include src="HELPRIM.icf::HELPRIM.rtn"/>

!FuncCode2
#CDCODEFuncCode2=x,20,S                  
T(3,CdCode.FuncCode2)                  
#FuncCode2Help=x,100,S        

!BaseRate
#CDCODECode=x,20,S                  
T(3,CdCode.BaseRate)                  
#ApHelp=x,1000,S

#HelpRim=X,1,S
RESET_RIM(#HelpRim,XXR99)
S(XXR99,01,#CDCODEFuncCode2,#CDCODECode)
R(1,XXR99)
CALL(#HelpProc)
T(2,@FuncCode2Help,#HelpDesc1)
T(2,@ApHelp,#HelpDesc2)

#CHAIN=A,1,S
T(4,CHAIN$)
IF(#CHAIN!=1,V(P,此為連動交易，請從交易:L6031進入),$)

#NTXBUF=X,3,S
C(3,#CHAIN,1,T(4,NTXBUF$),S)

#CHAIN_FuncCode=X,1,S
T(1,#NTXBUF,1,1)

#CHAIN_Code=X,2,S
T(1,#NTXBUF,2,2)

#CHAINSET=X,1,S
C(3,#CHAIN,1,$,S)
T(2,@FuncCode,#CHAIN_FuncCode)
C(3,#FuncCode,1,S,$)
E(0,@Code,#CHAIN_Code)

! 功能
#FuncCode=A,1,S
HELP(#FuncCode2Help)
@V(H,#FuncCode2Help)

#FuncCodeX=X,12,L
T(H,#FuncCode,#FuncCode2Help)
C(2,#FuncCode,$,K(MODIFYBUTTON,新增),K(MODIFYBUTTON,修改),$,K(MODIFYBUTTON,刪除))

#FUNCIND=_,_,S
E(0,#FuncCode)
<include src="COM.icf::CheckAuth.rtn"/>

! FuncCode=1 新增時為必輸欄位
#WKPSC=X,2,S

#WKSTAR=X,2,S
C(2,#FuncCode,S,T(3,*),S,S,S,S)

#WKNAME=X,1,S
T(2,@FdCode,#WKSTAR)


#WKSTAR1=X,2,S
C(2,#FuncCode,S,T(3,*),T(3,*),S,S,S)

#WKNAME1=X,1,S
T(2,@FdItem,#WKSTAR1)

!顯示INPUT,LABEL
#WKSHOW=X,1,S
C(3,#FuncCode,2 ,T(F,#Code,0),$)
C(3,#FuncCode,4 ,T(F,#Code,0)T(F,#Item,0),$)

! 指標利率種類   (新增、修改時必須輸入,其他自動顯示不必輸入)
#Code=A,2,I
C(2,#FuncCode,$,$,s,s,s,s)
!HELP(#ApHelp)
@V(2,0)

! 指標利率種類-說明
#Item=x,40,I
C(2,#FuncCode,$,$,T(H,#Code,#ApHelp),$,T(H,#Code,#ApHelp),$)
C(3,#FuncCode,4,s)
@V(7)

#NTXBUF1=X,136,S
C(3,#FuncCode,5,S,$)
T(2,1+#Code+                                        +00+0000+0000000+                                                                                )ASGN(NTXBUF$)

#TmpNTXCD=X,5,S
C(3,#FuncCode,5,S,$)
T(3,L6302)
IF(#FuncCode == 1,ASGN(NTXCD$),$)

#RPTFG=A,1,S
E(0,0)


#AGAIN=X,1,S
IF(#FuncCode==4 || #FuncCode==2,$,S)
E(0,1)ASGN(AGAIN$)

!參考編號
#MRKEY=_,_,S
T(2,#Code)

</sub>

!---------- 輸出共用變數宣告區 ----------
<sub type="RTN" name="AFXMT">
<include src="PRT.icf::PRTHEAD.rtn"/>
</sub>

!---------- TXFORM = L6301 ----------
<sub type="FORM" name="L6301">

!#SCRPRT=_,_,S
!C(5,#TXFORM,L6301,$,S)

#SCRTIL=_,_,S
T(3,[L6301] 指標利率種類維護)

</sub>


!------ 上行電文 ------
<sub type="TIM">
#FuncCode#Code#Item
#END
</sub>


!------ 下行電文TOM ------
<sub type="TOM">
TXFORM=L6301
^

<include src="COM.icf::TRCTL.tom"/>
<include src="HELPRIM.icf::HELPRIM.tom"/>
</sub>


!---------- 單據輸出組合 ----------
<sub type="SELECT">
<include src="PRT.icf::UPD01.sel"/>
</sub>
